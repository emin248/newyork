<!DOCTYPE html>
<html lang="az">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İlan Oyunu - Baki-Sumqayit.site</title>
    <meta name="description" content="Klassik İlan (Snake) oynayaraq nostalji yaşayın.">
    <link rel="stylesheet" href="game-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <header class="sticky-header">
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i><span>Ana Səhifə</span></a>
        <div class="site-logo">baki-sumqayit.site</div>
    </header>
    <div class="main-container">
        <main class="game-wrapper" id="game-container">
            <style>
                .snake-game-area {
                    font-family: "Poppins", sans-serif;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    background: linear-gradient(135deg, #FF66A1 0%, #FF9966 100%);
                    /* Şeker rengi gradient */
                    color: white;
                    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
                    border-radius: 15px;
                    padding: 40px 20px;
                    width: 100%;
                    box-sizing: border-box;
                }

                .snake-container {
                    background: rgba(255, 255, 255, 0.15);
                    /* Buzlu cam efekti */
                    backdrop-filter: blur(10px);
                    -webkit-backdrop-filter: blur(10px);
                    border-radius: 15px;
                    padding: 20px;
                    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
                    border: 1px solid rgba(255, 255, 255, 0.18);
                    text-align: center;
                    width: 100%;
                    max-width: 340px;
                    /* Genişlik sabitle */
                    margin: 0 auto;
                }

                .snake-container h1 {
                    font-size: 36px;
                    margin-top: 0;
                    margin-bottom: 15px;
                    color: white;
                }

                .score-board {
                    display: flex;
                    justify-content: center;
                    gap: 20px;
                    margin-bottom: 20px;
                }

                .score-item {
                    background: rgba(0, 0, 0, 0.2);
                    padding: 8px 15px;
                    border-radius: 8px;
                    font-size: 14px;
                }

                .score-item b {
                    display: block;
                    font-size: 24px;
                    color: #ffd700;
                    /* Altın rengi */
                }

                #gameCanvas {
                    background: #2c3e50;
                    /* Koyu gri oyun alanı */
                    border: 5px solid #34495e;
                    border-radius: 8px;
                    display: block;
                    margin: 0 auto;
                    touch-action: none;
                    /* Mobilde tuvalin kaymasını engeller */
                    max-width: 100%;
                }

                .controls {
                    margin-top: 20px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 10px;
                }

                .control-buttons {
                    display: grid;
                    grid-template-areas:
                        ". up ."
                        "left . right"
                        ". down .";
                    gap: 10px;
                    width: 150px;
                    /* Buton grubu genişliği */
                    display: none;
                    /* PC'de gizli, mobilde klavye gerekmez */
                }

                @media (max-width: 600px) {
                    .control-buttons {
                        display: grid;
                    }

                    /* Mobilde göster */
                }

                .control-btn {
                    background: rgba(255, 255, 255, 0.2);
                    color: white;
                    border: none;
                    padding: 15px;
                    font-size: 18px;
                    border-radius: 50%;
                    /* Yuvarlak buton */
                    width: 50px;
                    height: 50px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    cursor: pointer;
                    transition: background 0.1s ease;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                }

                .control-btn:active {
                    background: rgba(255, 255, 255, 0.4);
                    transform: scale(0.95);
                }

                .control-btn.up {
                    grid-area: up;
                }

                .control-btn.down {
                    grid-area: down;
                }

                .control-btn.left {
                    grid-area: left;
                }

                .control-btn.right {
                    grid-area: right;
                }

                .game-message {
                    margin-top: 15px;
                    font-size: 16px;
                    display: none;
                    /* Başlangıçta gizli */
                    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
                }

                .game-message.active {
                    display: block;
                }

                .btn-restart {
                    background: #ff6b6b;
                    color: white;
                    border: none;
                    padding: 12px 25px;
                    font-size: 18px;
                    border-radius: 30px;
                    cursor: pointer;
                    font-weight: bold;
                    transition: transform 0.1s;
                    margin-top: 20px;
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                }

                .btn-restart:active {
                    transform: scale(0.95);
                }
            </style>

            <div class="snake-game-area">
                <div class="snake-container">
                    <h1>İlan Oyunu</h1>

                    <div class="score-board">
                        <div class="score-item">XAL<b><span id="score">0</span></b></div>
                        <div class="score-item">REKORD<b><span id="high-score">0</span></b></div>
                    </div>

                    <canvas id="gameCanvas" width="300" height="300"></canvas>

                    <div class="game-message" id="message">
                        Oyun Bitdi!
                        <button class="btn-restart" onclick="initGame()">Yenidən Oyna</button>
                    </div>

                    <div class="controls">
                        <div class="control-buttons">
                            <button class="control-btn up" onclick="changeDirection(0, -1)">⬆️</button>
                            <button class="control-btn left" onclick="changeDirection(-1, 0)">⬅️</button>
                            <button class="control-btn right" onclick="changeDirection(1, 0)">➡️</button>
                            <button class="control-btn down" onclick="changeDirection(0, 1)">⬇️</button>
                        </div>
                        <p style="font-size:14px; opacity: 0.8;">PC: Yön Tuşları | Mobil: Sürüşdür</p>
                    </div>

                </div>
            </div>

            <script>
                const canvas = document.getElementById('gameCanvas');
                const ctx = canvas.getContext('2d');
                const scoreDisplay = document.getElementById('score');
                const highScoreDisplay = document.getElementById('high-score');
                const messageDisplay = document.getElementById('message');

                const gridSize = 15; // Hücre boyutu (15x15 pixel)
                // Use fixed canvas size or dynamic calculation if resized? 
                // Currently width is fixed at 300 via HTML attribute
                const tileCount = canvas.width / gridSize; // Tahtadaki hücre sayısı (300/15 = 20)

                let snake = [{ x: 10, y: 10 }]; // Yılanın başlangıç pozisyonu
                let food = {}; // Yiyeceğin pozisyonu
                let dx = 0; // X yönündeki hız (0: duruyor, 1: sağ, -1: sol)
                let dy = 0; // Y yönündeki hız (0: duruyor, 1: aşağı, -1: yukarı)
                let score = 0;
                let highScore = localStorage.getItem('snakeHighScore') || 0;
                let gameInterval;
                let gameSpeed = 150; // Oyun hızı (ms cinsinden)

                // En iyi skoru güncelle
                highScoreDisplay.innerText = highScore;

                function initGame() {
                    snake = [{ x: 10, y: 10 }];
                    dx = 0;
                    dy = 0;
                    score = 0;
                    scoreDisplay.innerText = score;
                    messageDisplay.style.display = 'none';
                    generateFood();
                    clearInterval(gameInterval); // Önceki interval'ı temizle
                    gameSpeed = 150; // Oyun hızını başlangıç değerine getir
                    gameInterval = setInterval(gameLoop, gameSpeed); // Yeni interval başlat
                }

                function gameLoop() {
                    update();
                    draw();
                }

                function update() {
                    if (dx === 0 && dy === 0) return; // Don't update position if not moving

                    const head = { x: snake[0].x + dx, y: snake[0].y + dy };

                    // Oyun bitti mi?
                    if (
                        head.x < 0 || head.x >= tileCount || // Duvarlara çarptı
                        head.y < 0 || head.y >= tileCount ||
                        checkCollision(head) // Kendine çarptı
                    ) {
                        gameOver();
                        return;
                    }

                    snake.unshift(head); // Yeni başı ekle

                    // Yiyecek yendi mi?
                    if (head.x === food.x && head.y === food.y) {
                        score++;
                        scoreDisplay.innerText = score;
                        generateFood();

                        // Her 3 puanda bir hızlandır (isteğe bağlı)
                        if (score % 3 === 0 && gameSpeed > 50) {
                            gameSpeed -= 10; // Hızı artır (interval süresini kısalt)
                            clearInterval(gameInterval);
                            gameInterval = setInterval(gameLoop, gameSpeed);
                        }

                    } else {
                        snake.pop(); // Yılanın kuyruğunu kaldır
                    }
                }

                function draw() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height); // Tuvali temizle

                    // Yılanı çiz
                    for (let i = 0; i < snake.length; i++) {
                        ctx.fillStyle = i === 0 ? '#3498db' : '#27ae60'; // Baş farklı renk
                        ctx.fillRect(snake[i].x * gridSize, snake[i].y * gridSize, gridSize - 1, gridSize - 1);
                        ctx.strokeStyle = '#2c3e50';
                        ctx.strokeRect(snake[i].x * gridSize, snake[i].y * gridSize, gridSize - 1, gridSize - 1);
                    }

                    // Yiyeceği çiz
                    ctx.fillStyle = '#e74c3c';
                    ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 1, gridSize - 1);
                    ctx.strokeStyle = '#c0392b';
                    ctx.strokeRect(food.x * gridSize, food.y * gridSize, gridSize - 1, gridSize - 1);
                }

                function generateFood() {
                    let newFoodX, newFoodY;
                    let collisionWithSnake;
                    do {
                        newFoodX = Math.floor(Math.random() * tileCount);
                        newFoodY = Math.floor(Math.random() * tileCount);
                        collisionWithSnake = snake.some(segment => segment.x === newFoodX && segment.y === newFoodY);
                    } while (collisionWithSnake); // Yiyecek yılanın üstünde oluşmasın

                    food = { x: newFoodX, y: newFoodY };
                }

                function checkCollision(head) {
                    for (let i = 1; i < snake.length; i++) {
                        if (head.x === snake[i].x && head.y === snake[i].y) {
                            return true;
                        }
                    }
                    return false;
                }

                function gameOver() {
                    clearInterval(gameInterval);
                    messageDisplay.style.display = 'block';
                    if (score > highScore) {
                        highScore = score;
                        localStorage.setItem('snakeHighScore', highScore);
                        highScoreDisplay.innerText = highScore;
                    }
                }

                function changeDirection(newDx, newDy) {
                    // Yılan kendi üstüne dönmesin
                    if ((dx === 1 && newDx === -1) || (dx === -1 && newDx === 1) ||
                        (dy === 1 && newDy === -1) || (dy === -1 && newDy === 1)) return;

                    dx = newDx;
                    dy = newDy;
                }

                // Klavye kontrolü
                document.addEventListener('keydown', e => {
                    // Prevent page scrolling with arrow keys
                    if (["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(e.code) > -1) {
                        e.preventDefault();
                    }

                    switch (e.key) {
                        case 'ArrowUp':
                            changeDirection(0, -1);
                            break;
                        case 'ArrowDown':
                            changeDirection(0, 1);
                            break;
                        case 'ArrowLeft':
                            changeDirection(-1, 0);
                            break;
                        case 'ArrowRight':
                            changeDirection(1, 0);
                            break;
                    }
                });

                // Mobil Dokunmatik (Swipe) Kontrolü
                let touchStartX = 0;
                let touchStartY = 0;

                const gameArea = document.querySelector('.snake-game-area');
                // Only listen for swipes within the game area to allow scrolling elsewhere if needed

                gameArea.addEventListener('touchstart', (e) => {
                    touchStartX = e.touches[0].clientX;
                    touchStartY = e.touches[0].clientY;
                    // e.preventDefault(); // allow default to not break scroll unless moving? 
                    // Better to prevent default only if we detect a swipe?
                }, { passive: false });

                gameArea.addEventListener('touchmove', (e) => {
                    e.preventDefault(); // Prevent scrolling while swiping on the game
                }, { passive: false });

                gameArea.addEventListener('touchend', (e) => {
                    let touchEndX = e.changedTouches[0].clientX;
                    let touchEndY = e.changedTouches[0].clientY;

                    let dxTouch = touchEndX - touchStartX;
                    let dyTouch = touchEndY - touchStartY;

                    if (Math.abs(dxTouch) < 10 && Math.abs(dyTouch) < 10) return; // Çok kısa kaydırmaları yok say

                    if (Math.abs(dxTouch) > Math.abs(dyTouch)) { // Yatay kaydırma
                        if (dxTouch > 0) changeDirection(1, 0); // Sağa
                        else changeDirection(-1, 0); // Sola
                    } else { // Dikey kaydırma
                        if (dyTouch > 0) changeDirection(0, 1); // Aşağı
                        else changeDirection(0, -1); // Yukarı
                    }
                    // e.preventDefault();
                }, { passive: false });


                // Oyunu başlat
                initGame();

            </script>
        </main>
        <!-- Other Games Panel -->
        <section class="max-w-4xl mx-auto mb-12 animate-fade-in" style="animation-delay: 200ms; padding: 0 20px;">
            <h2 class="text-2xl font-extrabold text-gray-800 mb-6 flex items-center">
                <i class="fa-solid fa-gamepad text-purple-600 mr-3"></i>
                Digər Oyunlar
            </h2>

            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                <!-- 2048 -->
                <a href="game-2048.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-yellow-400/10 to-orange-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-layer-group text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-yellow-700 text-sm">2048</span>
                </a>

                <!-- 15 Puzzle -->
                <a href="game-15puzzle.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-blue-400/10 to-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-border-all text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-blue-700 text-sm">15 Puzzle</span>
                </a>

                <!-- Flappy -->
                <a href="game-flappy.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-sky-400/10 to-cyan-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-sky-100 text-sky-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-dove text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-sky-700 text-sm">Uçan Top</span>
                </a>

                <!-- Snake -->
                <a href="game-snake.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-green-400/10 to-emerald-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-green-100 text-green-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-staff-snake text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-green-700 text-sm">İlan</span>
                </a>

                <!-- TicTacToe -->
                <a href="game-tictactoe.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-red-400/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-xmarks-lines text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-red-700 text-sm">X-O</span>
                </a>

                <!-- Tetris -->
                <a href="game-tetris.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-indigo-400/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-shapes text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-indigo-700 text-sm">Tetris</span>
                </a>

                <!-- Memory -->
                <a href="game-memory.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-teal-400/10 to-green-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-brain text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-teal-700 text-sm">Yaddaş</span>
                </a>

                <!-- Math -->
                <a href="game-math.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-orange-400/10 to-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-calculator text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-orange-700 text-sm">Riyaziyyat</span>
                </a>

                <!-- Reflex (ZigZag) -->
                <a href="game-reflex.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-fuchsia-400/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-fuchsia-100 text-fuchsia-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-bolt text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-fuchsia-700 text-sm">Ziq Zaq</span>
                </a>

                <!-- Arkanoid -->
                <a href="game-arkanoid.html"
                    class="glass-panel p-4 rounded-xl flex flex-col items-center justify-center group hover:bg-white transition-all border border-white/60 hover:shadow-lg hover:-translate-y-1 relative overflow-hidden">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-rose-400/10 to-red-500/10 opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div
                        class="w-12 h-12 rounded-full bg-rose-100 text-rose-600 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform shadow-sm">
                        <i class="fa-solid fa-cubes text-xl"></i>
                    </div>
                    <span class="font-bold text-gray-700 group-hover:text-rose-700 text-sm">Kərpic</span>
                </a>

            </div>
        </section>
        <article class="seo-content">
            <h1>İlan Oyunu - Nostalji və Həyəcan</h1>
            <h2>Necə Oynanılır?</h2>
            <p>Əfsanəvi Nokia telefonlarından xatırladığımız İlan oyunu! İlanı yemlərə doğru yönləndirin. Hər yediyiniz
                yemlə ilan bir az daha uzanır. Divarlara və ya öz quyruğunuza çarpmamağa çalışın.</p>
            <h3>Yüksək Xal Taktikaları:</h3>
            <ul>
                <li><strong>Zig-Zag Hərəkət:</strong> Məkanı səmərəli istifadə etmək üçün ilanı zig-zag hərəkətlərlə
                    idarə edin.</li>
                <li><strong>Kənarlardan Gedin:</strong> İlan uzandıqca mərkəzdə dolaşmaq təhlükəlidir.</li>
                <li><strong>Dönüşləri Hesablayın:</strong> Sürət artdıqca dönmə vaxtını dəqiqləşdirin.</li>
            </ul>
            <h2>Qatar Gözləyərkən Niyə Oynanmalı?</h2>
            <p>Sadə qaydaları və artan çətinliyi ilə Snake, qısa fasilələr üçün mükəmməl oyundur. Həm nostalji yaşayın,
                həm də reflekslərinizi məşq etdirin.</p>
        </article>
    </div>
    <footer>
        <p>&copy; 2024 baki-sumqayit.site - Bütün hüquqlar qorunur.</p>
    </footer>
</body>

</html>