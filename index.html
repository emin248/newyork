<!DOCTYPE html>
<html lang="az" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bakı-Sumqayıt Müasir Cədvəl | Baki-Sumqayit.site</title>
    <meta name="description" content="Bakı-Sumqayıt qatar cədvəli, bilet qiymətləri və marşrut planlayıcı.">
    <link rel="canonical" href="https://www.baki-sumqayit.site/">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Bakı-Sumqayıt Müasir Cədvəl | Baki-Sumqayit.site">
    <meta property="og:description" content="Bakı-Sumqayıt qatar cədvəli, bilet qiymətləri və marşrut planlayıcı.">
    <meta property="og:image" content="https://www.baki-sumqayit.site/android-chrome-512x512.png">
    <meta property="og:url" content="https://www.baki-sumqayit.site/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="az_AZ">
    <meta property="og:site_name" content="Baki-Sumqayit.site">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@BakiSumqayit">
    <meta name="twitter:title" content="Bakı-Sumqayıt Müasir Cədvəl | Baki-Sumqayit.site">
    <meta name="twitter:description" content="Bakı-Sumqayıt qatar cədvəli, bilet qiymətləri və marşrut planlayıcı.">
    <meta name="twitter:image" content="https://www.baki-sumqayit.site/android-chrome-512x512.png">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3725039577144467"
        crossorigin="anonymous"></script>

        <!-- Google tag (gtag.js) -->
        <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W05T401WMG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-W05T401WMG');
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-W05T401WMG');
    </script>


    <!-- Favicon Settings -->
    <!-- Klasik favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- PNG faviconlar -->
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <!-- Apple Touch Icon (iOS) -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Android Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">

    <!-- Web App Manifest (PWA) -->
    <link rel="manifest" href="/site.webmanifest">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Baki-Sumqayit.site",
      "url": "https://www.baki-sumqayit.site/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.baki-sumqayit.site/?s={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Baki-Sumqayit.site",
      "url": "https://www.baki-sumqayit.site/",
      "logo": "https://www.baki-sumqayit.site/favicon-32x32.png",
      "sameAs": [
        "https://t.me/emin249"
      ]
    }
    </script>

    <!-- Google Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        :root {
            --primary: #2563eb;
            --bg-gradient: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: #f3f4f6;
            background-image:
                radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 0.05) 0, transparent 50%),
                radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 0.05) 0, transparent 50%),
                radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 0.05) 0, transparent 50%);
            background-attachment: scroll;
            background-size: cover;
            color: #1f2937;
            min-height: 100vh;
            -webkit-overflow-scrolling: touch;
        }

        @media (min-width: 768px) {
            body {
                background-attachment: fixed;
            }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .glass-input {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(209, 213, 219, 0.5);
            transition: all 0.3s ease;
        }

        .glass-input:focus {
            background: #fff;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
        }

        .ticket-card {
            position: relative;
            background: white;
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .ticket-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .ticket-card::before,
        .ticket-card::after {
            content: '';
            position: absolute;
            height: 20px;
            width: 20px;
            background-color: #f3f4f6;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .ticket-card::before {
            left: -10px;
        }

        .ticket-card::after {
            right: -10px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
        }

        @keyframes pulse-soft {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.8;
                transform: scale(0.98);
            }
        }

        .pulse-btn:active {
            animation: pulse-soft 0.2s;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-5px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .telegram-btn {
            animation: float 3s ease-in-out infinite;
        }

        .notranslate {
            translate: no;
        }

        /* Ad container helper */
        .ad-container {
            display: flex;
            justify-content: center;
            overflow: hidden;
            margin: 1rem 0;
            border-radius: 8px;
            min-height: 90px;
            background: rgba(0, 0, 0, 0.02);
        }
    </style>
    <!-- Monetag Vignette Ad -->
    <script>(function (s) { s.dataset.zone = '10394826', s.src = 'https://gizokraijaw.net/vignette.min.js' })([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
</head>

<body class="antialiased pb-10">

    <main class="max-w-lg mx-auto px-4 pt-6 sm:pt-10">

        <!-- Header -->
        <header class="text-center mb-6 animate-fade-in" style="animation-delay: 0ms;">
            <!-- Logo Section: Clean Look -->
            <div
                class="inline-flex items-center justify-center mb-4 transform rotate-6 hover:rotate-0 transition-all duration-300">
                <img src="favicon-32x32.png" alt="Bakı Sumqayıt Qatar Cədvəli Logo"
                    class="w-16 h-16 object-contain drop-shadow-xl"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block'">
                <!-- Fallback icon -->
                <i class="fa-solid fa-train-subway text-4xl text-blue-600 hidden"></i>
            </div>

            <h1 class="text-3xl font-extrabold text-gray-800 tracking-tight">Bakı <span
                    class="text-blue-500 mx-1">⇌</span> Sumqayıt</h1>
            <p
                class="text-gray-500 text-sm mt-2 font-medium inline-block px-4 py-1 rounded-full bg-white/50 backdrop-blur-sm border border-white/40">
                <i class="fa-regular fa-clock mr-1"></i> Cədvəl Yeniləndi: 06.12.2025
            </p>
        </header>



        <!-- Search Box -->
        <section class="glass-panel rounded-3xl p-6 mb-8 animate-fade-in relative z-20" style="animation-delay: 100ms;">
            <form class="space-y-4" onsubmit="searchTrains(event)">

                <div class="relative group">
                    <label
                        class="text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 mb-1 block">Marşrut</label>
                    <div class="relative">
                        <select id="routeSelect"
                            class="glass-input w-full p-4 pr-10 rounded-xl appearance-none text-gray-700 font-semibold cursor-pointer outline-none"
                            required>
                            <!-- Routes populated via JS -->
                        </select>
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-blue-500 pointer-events-none">
                            <i class="fa-solid fa-chevron-down"></i>
                        </div>
                    </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 relative">
                    <div class="flex-1">
                        <label
                            class="text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 mb-1 block">Haradan</label>
                        <div class="relative">
                            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-blue-500">
                                <i class="fa-regular fa-circle-dot"></i>
                            </div>
                            <select id="departure"
                                class="glass-input w-full p-4 pl-10 pr-8 rounded-xl appearance-none text-gray-800 font-medium cursor-pointer outline-none disabled:opacity-50"
                                disabled>
                                <option value="">Seçin...</option>
                            </select>
                        </div>
                    </div>

                    <button type="button" id="swapButton" onclick="swapStations()"
                        class="absolute sm:static left-1/2 sm:left-auto top-[42%] sm:top-auto -translate-x-1/2 sm:translate-x-0 z-10 bg-white p-2 rounded-full shadow-md text-blue-600 border border-gray-100 hover:bg-blue-50 transition-all disabled:opacity-0 disabled:pointer-events-none w-10 h-10 flex items-center justify-center"
                        title="Dəyişdir">
                        <i class="fa-solid fa-arrow-right-arrow-left text-sm"></i>
                    </button>

                    <div class="flex-1">
                        <label
                            class="text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 mb-1 block">Haraya</label>
                        <div class="relative">
                            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-red-500">
                                <i class="fa-solid fa-location-dot"></i>
                            </div>
                            <select id="arrival"
                                class="glass-input w-full p-4 pl-10 pr-8 rounded-xl appearance-none text-gray-800 font-medium cursor-pointer outline-none disabled:opacity-50"
                                disabled>
                                <option value="">Seçin...</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div>
                    <label class="text-xs font-bold text-gray-500 uppercase tracking-wider ml-1 mb-1 block">Tarix /
                        Gün</label>
                    <div class="relative">
                        <select id="dayType"
                            class="glass-input w-full p-3 pr-10 rounded-xl appearance-none text-sm text-gray-700 outline-none">
                            <!-- Options populated by JS -->
                        </select>
                        <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">
                            <i class="fa-regular fa-calendar"></i>
                        </div>
                    </div>
                </div>

                <button type="submit" id="searchButton"
                    class="w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-500/30 transform transition-all active:scale-95 flex items-center justify-center gap-2 text-lg pulse-btn">
                    <i class="fa-solid fa-magnifying-glass"></i> Qatarları Axtar
                </button>
            </form>
        </section>

        <div id="message-area" class="mb-6 transition-all duration-300 ease-in-out empty:hidden"></div>

        <!-- REKLAM 2: AXTARIŞ NƏTİCƏSİ DAXİLİNDƏ GÖRÜNƏCƏK (Dinamik) -->
        <div id="results-container" class="space-y-6 pb-6"></div>



        <!-- GAME BANNER (NEW) -->
        <section class="mb-12 animate-fade-in" style="animation-delay: 150ms;">
            <div
                class="relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-700 p-8 shadow-2xl shadow-indigo-500/20">
                <!-- Background Decorative Elements -->
                <div class="absolute -right-10 -top-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"></div>
                <div class="absolute -left-10 -bottom-10 w-40 h-40 bg-purple-400/20 rounded-full blur-3xl"></div>

                <div class="relative z-10 flex flex-col items-center text-center">
                    <div
                        class="w-16 h-16 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mb-6 shadow-lg transform -rotate-3 hover:rotate-0 transition-transform duration-300">
                        <i class="fa-solid fa-gamepad text-3xl text-white"></i>
                    </div>

                    <h2 class="text-2xl sm:text-3xl font-black text-white mb-3 tracking-tight">Oyun Zonası</h2>
                    <p class="text-indigo-100 text-sm sm:text-base mb-8 max-w-xs mx-auto leading-relaxed">
                        Qatar gələnədək vaxtınızı maraqlı keçirmək üçün 10-dan çox əyləncəli oyun!
                    </p>

                    <a href="games.html"
                        class="inline-flex items-center gap-3 bg-white text-indigo-600 font-bold px-8 py-4 rounded-2xl shadow-xl hover:shadow-white/20 hover:scale-105 active:scale-95 transition-all duration-300 group">
                        <span>İndi Oyna</span>
                        <i class="fa-solid fa-play text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Floating Icons Decor (Hidden on small mobile) -->
                <div class="hidden sm:block absolute top-1/2 -translate-y-1/2 left-10 opacity-20 transform -rotate-12">
                    <i class="fa-solid fa-layer-group text-5xl text-white"></i>
                </div>
                <div class="hidden sm:block absolute top-1/2 -translate-y-1/2 right-10 opacity-20 transform rotate-12">
                    <i class="fa-solid fa-shapes text-5xl text-white"></i>
                </div>
            </div>
        </section>

        <!-- USEFUL LINKS GRID -->
        <section class="max-w-4xl mx-auto mb-12 animate-fade-in" style="animation-delay: 200ms;">
            <h2 class="text-2xl font-extrabold text-gray-800 mb-6 flex items-center px-2">
                <i class="fa-solid fa-circle-info text-blue-500 mr-3"></i>
                Faydalı Məlumatlar
            </h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">



                <!-- Card 1: 2040 Plan -->
                <a href="plan-2040.html"
                    class="glass-panel p-6 rounded-2xl group hover:bg-white/80 transition-all border border-white/60 hover:shadow-lg relative overflow-hidden">
                    <div
                        class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="fa-solid fa-city text-8xl text-blue-900"></i>
                    </div>
                    <div class="relative z-10">
                        <div
                            class="bg-blue-100 text-blue-600 w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-600 group-hover:text-white transition-colors">
                            <i class="fa-solid fa-train-subway text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors">
                            Bakı Dəmir Yolu: 2040 Planı</h3>
                        <p class="text-sm text-gray-500 mb-4 line-clamp-2">Yeni stansiyalar, Hava Limanı xətti və
                            gələcək inkişaf planları haqqında ətraflı məlumat.</p>
                        <span class="text-blue-500 text-sm font-bold flex items-center">
                            Oxumaq <i
                                class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                        </span>
                    </div>
                </a>

                <!-- Card 2: Fares -->
                <a href="fares.html"
                    class="glass-panel p-6 rounded-2xl group hover:bg-white/80 transition-all border border-white/60 hover:shadow-lg relative overflow-hidden">
                    <div
                        class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="fa-solid fa-wallet text-8xl text-green-900"></i>
                    </div>
                    <div class="relative z-10">
                        <div
                            class="bg-green-100 text-green-600 w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:bg-green-600 group-hover:text-white transition-colors">
                            <i class="fa-solid fa-tags text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-green-600 transition-colors">
                            Tam Gediş Haqqı Cədvəli</h3>
                        <p class="text-sm text-gray-500 mb-4 line-clamp-2">Bütün stansiyalar üzrə gediş haqqı və məsafə
                            məlumatları (28 May, Koroğlu, Sumqayıt və s.).</p>
                        <span class="text-green-600 text-sm font-bold flex items-center">
                            Cədvələ Bax <i
                                class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                        </span>
                    </div>
                </a>

                <!-- Card 3: History -->
                <a href="history.html"
                    class="glass-panel p-6 rounded-2xl group hover:bg-white/80 transition-all border border-white/60 hover:shadow-lg relative overflow-hidden">
                    <div
                        class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="fa-solid fa-book-open text-8xl text-orange-900"></i>
                    </div>
                    <div class="relative z-10">
                        <div
                            class="bg-orange-100 text-orange-600 w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:bg-orange-600 group-hover:text-white transition-colors">
                            <i class="fa-solid fa-clock-rotate-left text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-orange-600 transition-colors">
                            Dəmir Yollarının Tarixi</h3>
                        <p class="text-sm text-gray-500 mb-4 line-clamp-2">Azərbaycanda dəmir yollarının 1880-ci ildən
                            bu günə qədərki inkişaf tarixi və BTK layihəsi.</p>
                        <span class="text-orange-600 text-sm font-bold flex items-center">
                            Oxumaq <i
                                class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                        </span>
                    </div>
                </a>

                <!-- Card 4: World History -->
                <a href="world-history.html"
                    class="glass-panel p-6 rounded-2xl group hover:bg-white/80 transition-all border border-white/60 hover:shadow-lg relative overflow-hidden">
                    <div
                        class="absolute right-0 top-0 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="fa-solid fa-earth-americas text-8xl text-purple-900"></i>
                    </div>
                    <div class="relative z-10">
                        <div
                            class="bg-purple-100 text-purple-600 w-12 h-12 rounded-xl flex items-center justify-center mb-4 group-hover:bg-purple-600 group-hover:text-white transition-colors">
                            <i class="fa-solid fa-globe text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-purple-600 transition-colors">
                            Dünyada Dəmir Yolları</h3>
                        <p class="text-sm text-gray-500 mb-4 line-clamp-2">Qədim Yunanıstandan müasir dövrə: dəmir
                            yolunun dünya miqyasında yaranma və inkişaf tarixi.</p>
                        <span class="text-purple-600 text-sm font-bold flex items-center">
                            Oxumaq <i
                                class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                        </span>
                    </div>
                </a>

            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center pb-6 animate-fade-in mt-6">
            <a href="https://t.me/emin249" target="_blank"
                class="telegram-btn inline-flex items-center gap-2 bg-white hover:bg-blue-50 text-blue-500 font-semibold px-5 py-3 rounded-full shadow-md transition-colors mb-6 border border-blue-100">
                <i class="fa-brands fa-telegram text-2xl"></i>
                <span class="text-left leading-tight">
                    <span class="block text-[10px] uppercase text-gray-400">Bizə yazın</span>
                    <span class="block text-sm">Şikayət və Təkliflər</span>
                </span>
            </a>
            <div class="flex flex-wrap justify-center gap-4 mb-6 text-sm text-gray-500">
                <a href="about.html" class="hover:text-blue-600 transition-colors">Haqqımızda</a>
                <a href="contact.html" class="hover:text-blue-600 transition-colors">Əlaqə</a>
                <a href="privacy.html" class="hover:text-blue-600 transition-colors">Məxfilik Siyasəti</a>
                <a href="terms.html" class="hover:text-blue-600 transition-colors">İstifadə Şərtləri</a>
            </div>
            <p class="text-gray-400 text-xs opacity-70">© 2025 Baki-Sumqayit.site</p>
        </footer>
    </main>

    <script>
        // --- DATA (UPDATED: 24.02.2025) ---
        const holidays2025 = new Set(["2025-01-01", "2025-01-02", "2025-01-20", "2025-03-08", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-30", "2025-03-31", "2025-05-09", "2025-05-28", "2025-06-06", "2025-06-07", "2025-06-15", "2025-06-26", "2025-11-08", "2025-11-09", "2025-12-31"]);
        const shiftedRestDays2025 = new Set(["2025-01-03", "2025-03-10", "2025-03-25", "2025-03-26", "2025-04-01", "2025-06-09", "2025-06-16", "2025-11-10", "2025-11-11"]);
        const nonWorkDays = new Set([...holidays2025, ...shiftedRestDays2025]);

        function getDayCategory(date = new Date()) {
            const y = date.getFullYear(), m = String(date.getMonth() + 1).padStart(2, '0'), d = String(date.getDate()).padStart(2, '0');
            const dateStr = `${y}-${m}-${d}`;
            const day = date.getDay();
            if (day === 0) return 'sunday';
            if (day === 6 || nonWorkDays.has(dateStr)) return 'saturday_holiday';
            return 'workdays';
        }

        const routesData = {
            'baki_pirshagi_sumqayit': {
                name: "Bakı-Pirşağı-Sumqayıt",
                fareInfoKey: 'pirshagi',
                directions: {
                    'baki_to_sumqayit': {
                        workdays: {
                            stations: ["Bakı", "Keşlə", "Koroğlu", "Bakıxanov", "Sabunçu", "Zabrat1", "Zabrat2", "Məmmədli", "Pirşağı", "Görədil", "Novxanı", "Sumqayıt"],
                            trains: [{ number: "6601", times: ["06:37", "06:42", "06:46", "06:50", "06:53", "06:58", "07:01", "07:04", "07:12", "07:17", "07:21", "07:29"] }, { number: "6603", times: ["07:40", "07:45", "07:49", "07:53", "07:56", "08:01", "08:04", "08:07", "08:15", "08:20", "08:24", "08:32"] }, { number: "6605", times: ["08:00", "08:05", "08:09", "08:13", "08:16", "08:21", "08:24", "08:27", "08:35", "08:40", "08:44", "08:52"] }, { number: "6607", times: ["08:10", "08:15", "08:19", "08:23", "08:26", "08:31", "08:35", null, null, null, null, null], note: "Son stansiya: Zabrat 2" }, { number: "6609", times: ["08:25", "08:30", "08:34", "08:38", "08:41", "08:46", "08:49", "08:52", "09:00", "09:05", "09:09", "09:17"] }, { number: "6611", times: ["08:45", "08:50", "08:54", "08:58", "09:01", "09:06", "09:09", "09:12", "09:20", "09:25", "09:29", "09:37"] }, { number: "6613", times: ["09:00", "09:05", "09:09", "09:13", "09:16", "09:21", "09:24", "09:27", "09:35", "09:40", "09:44", "09:52"] }, { number: "6615", times: ["09:30", "09:35", "09:39", "09:43", "09:46", "09:51", "09:54", "09:57", "10:05", "10:10", "10:14", "10:22"] }, { number: "6617", times: ["10:00", "10:05", "10:09", "10:13", "10:16", "10:21", "10:24", "10:27", "10:35", "10:40", "10:44", "10:52"] }, { number: "6619", times: ["10:30", "10:35", "10:39", "10:43", "10:46", "10:51", "10:54", "10:57", "11:05", "11:10", "11:14", "11:22"] }, { number: "6621", times: ["11:00", "11:05", "11:09", "11:13", "11:16", "11:21", "11:24", "11:27", "11:35", "11:40", "11:44", "11:52"] }, { number: "6623", times: ["11:50", "11:55", "11:59", "12:03", "12:06", "12:11", "12:14", "12:17", "12:25", "12:30", "12:34", "12:42"] }, { number: "6625", times: ["15:00", "15:05", "15:09", "15:13", "15:16", "15:21", "15:24", "15:27", "15:35", "15:40", "15:44", "15:52"] }, { number: "6627", times: ["15:40", "15:45", "15:49", "15:53", "15:56", "16:01", "16:04", "16:07", "16:15", "16:20", "16:24", "16:31"] }, { number: "6629", times: ["16:20", "16:25", "16:29", "16:33", "16:36", "16:41", "16:44", "16:47", "16:55", "17:00", "17:04", "17:12"] }, { number: "6631", times: ["16:45", "16:50", "16:54", "16:58", "17:01", "17:06", "17:09", "17:12", "17:20", "17:25", "17:29", "17:37"] }, { number: "6633", times: ["17:10", "17:15", "17:19", "17:23", "17:26", "17:31", "17:34", "17:37", "17:45", "17:50", "17:54", "18:02"] }, { number: "6635", times: ["17:45", "17:50", "17:54", "17:58", "18:01", "18:06", "18:09", "18:12", "18:20", "18:25", "18:29", "18:37"] }, { number: "6671", times: ["18:05", null, null, null, null, null, null, null, null, null, null, "18:54"], note: "Sürət qatarı (dayanacaqsız)" }, { number: "6637", times: ["18:15", "18:20", "18:24", "18:28", "18:31", "18:36", "18:39", "18:42", "18:50", "18:55", "18:59", "19:07"] }, { number: "6639", times: ["18:30", "18:35", "18:39", "18:43", "18:46", "18:51", "18:54", "18:57", "19:05", "19:10", "19:14", "19:22"] }, { number: "6641", times: ["18:50", "18:55", "18:59", "19:03", "19:06", "19:11", "19:13", "19:17", "19:25", "19:30", "19:34", "19:42"] }, { number: "6643", times: ["19:10", "19:15", "19:19", "19:23", "19:26", "19:31", "19:34", "19:37", "19:45", "19:50", "19:54", "20:02"] }, { number: "6645", times: ["19:35", "19:40", "19:44", "19:48", "19:51", "19:56", "19:59", "20:02", "20:10", "20:15", "20:19", "20:27"] }, { number: "6647", times: ["19:55", "20:00", "20:04", "20:08", "20:11", "20:16", "20:19", "20:22", "20:30", "20:35", "20:39", "20:47"] }, { number: "6649", times: ["20:20", "20:25", "20:29", "20:33", "20:36", "20:41", "20:44", "20:47", "20:55", "21:00", "21:04", "21:12"] }, { number: "6651", times: ["20:40", "20:45", "20:49", "20:53", "20:56", "21:01", "21:04", "21:07", "21:15", "21:20", "21:24", "21:32"] }, { number: "6653", times: ["21:00", "21:05", "21:09", "21:13", "21:16", "21:21", "21:24", "21:27", "21:35", "21:40", "21:44", "21:52"] }, { number: "6655", times: ["21:20", "21:25", "21:29", "21:33", "21:36", "21:41", "21:44", "21:47", "21:55", "22:00", "22:04", "22:12"] }, { number: "6657", times: ["21:40", "21:45", "21:49", "21:53", "21:56", "22:01", "22:04", "22:07", "22:15", "22:20", "22:24", "22:32"] }, { number: "6659", times: ["22:00", "22:05", "22:09", "22:13", "22:16", "22:21", "22:24", "22:27", "22:35", "22:40", "22:44", "22:52"] }, { number: "6661", times: ["22:30", "22:35", "22:39", "22:43", "22:46", "22:51", "22:54", "22:57", "23:05", "23:10", "23:14", "23:22"] }, { number: "6663", times: ["23:00", "23:05", "23:09", "23:13", "23:16", "23:21", "23:24", "23:27", "23:35", "23:40", "23:44", "23:52"] }]
                        },
                        saturday_holiday: {
                            stations: ["Bakı", "Keşlə", "Koroğlu", "Bakıxanov", "Sabunçu", "Zabrat1", "Zabrat2", "Məmmədli", "Pirşağı", "Görədil", "Novxanı", "Sumqayıt"],
                            trains: [{ number: "6601", times: ["07:05", "07:10", "07:14", "07:18", "07:21", "07:26", "07:29", "07:32", "07:40", "07:45", "07:49", "07:57"] }, { number: "6603", times: ["08:15", "08:20", "08:24", "08:28", "08:31", "08:36", "08:39", "08:42", "08:50", "08:55", "08:59", "09:07"] }, { number: "6605", times: ["09:00", "09:05", "09:09", "09:13", "09:16", "09:21", "09:24", "09:27", "09:35", "09:40", "09:44", "09:52"] }, { number: "6607", times: ["09:35", "09:40", "09:44", "09:48", "09:51", "09:56", "09:59", "10:02", "10:10", "10:15", "10:19", "10:27"] }, { number: "6609", times: ["10:10", "10:15", "10:19", "10:23", "10:26", "10:31", "10:34", "10:37", "10:45", "10:50", "10:54", "11:02"] }, { number: "6615", times: ["16:40", "16:45", "16:49", "16:53", "16:56", "17:01", "17:04", "17:07", "17:15", "17:20", "17:24", "17:32"] }, { number: "6617", times: ["17:20", "17:25", "17:29", "17:33", "17:36", "17:41", "17:44", "17:47", "17:55", "18:00", "18:04", "18:12"] }, { number: "6619", times: ["18:15", "18:20", "18:24", "18:28", "18:31", "18:36", "18:39", "18:42", "18:50", "18:55", "18:59", "19:07"] }, { number: "6621", times: ["18:50", "18:55", "18:59", "19:03", "19:06", "19:11", "19:14", "19:17", "19:25", "19:30", "19:34", "19:42"] }, { number: "6623", times: ["19:30", "19:35", "19:39", "19:43", "19:46", "19:51", "19:54", "19:57", "20:05", "20:10", "20:14", "20:22"] }, { number: "6625", times: ["20:10", "20:15", "20:19", "20:23", "20:26", "20:31", "20:34", "20:37", "20:45", "20:50", "20:54", "21:02"] }, { number: "6627", times: ["20:50", "20:55", "20:59", "21:03", "21:06", "21:11", "21:14", "21:17", "21:25", "21:30", "21:34", "21:42"] }, { number: "6629", times: ["21:20", "21:25", "21:29", "21:33", "21:36", "21:41", "21:44", "21:47", "21:55", "22:00", "22:04", "22:12"] }, { number: "6631", times: ["22:00", "22:05", "22:09", "22:13", "22:16", "22:21", "22:24", "22:27", "22:35", "22:40", "22:44", "22:52"] }, { number: "6633", times: ["23:00", "23:05", "23:09", "23:13", "23:16", "23:21", "23:24", "23:27", "23:35", "23:40", "23:44", "23:52"] }]
                        },
                        sunday: {
                            stations: ["Bakı", "Keşlə", "Koroğlu", "Bakıxanov", "Sabunçu", "Zabrat1", "Zabrat2", "Məmmədli", "Pirşağı", "Görədil", "Novxanı", "Sumqayıt"],
                            trains: [{ number: "6601", times: ["07:05", "07:10", "07:14", "07:18", "07:21", "07:26", "07:29", "07:32", "07:40", "07:45", "07:49", "07:57"] }, { number: "6603", times: ["08:15", "08:20", "08:24", "08:28", "08:31", "08:36", "08:39", "08:42", "08:50", "08:55", "08:59", "09:07"] }, { number: "6605", times: ["09:00", "09:05", "09:09", "09:13", "09:16", "09:21", "09:24", "09:27", "09:35", "09:40", "09:44", "09:52"] }, { number: "6607", times: ["09:35", "09:40", "09:44", "09:48", "09:51", "09:56", "09:59", "10:02", "10:10", "10:15", "10:19", "10:27"] }, { number: "6609", times: ["10:10", "10:15", "10:19", "10:23", "10:26", "10:31", "10:34", "10:37", "10:45", "10:50", "10:54", "11:02"] }, { number: "6615", times: ["16:40", "16:45", "16:49", "16:53", "16:56", "17:01", "17:04", "17:07", "17:15", "17:20", "17:24", "17:32"] }, { number: "6617", times: ["17:20", "17:25", "17:29", "17:33", "17:36", "17:41", "17:44", "17:47", "17:55", "18:00", "18:04", "18:12"] }, { number: "6619", times: ["18:15", "18:20", "18:24", "18:28", "18:31", "18:36", "18:39", "18:42", "18:50", "18:55", "18:59", "19:07"] }, { number: "6621", times: ["18:50", "18:55", "18:59", "19:03", "19:06", "19:11", "19:14", "19:17", "19:25", "19:30", "19:34", "19:42"] }, { number: "6623", times: ["19:30", "19:35", "19:39", "19:43", "19:46", "19:51", "19:54", "19:57", "20:05", "20:10", "20:14", "20:22"] }, { number: "6625", times: ["20:10", "20:15", "20:19", "20:23", "20:26", "20:31", "20:34", "20:37", "20:45", "20:50", "20:54", "21:02"] }, { number: "6627", times: ["20:50", "20:55", "20:59", "21:03", "21:06", "21:11", "21:14", "21:17", "21:25", "21:30", "21:34", "21:42"] }, { number: "6629", times: ["21:20", "21:25", "21:29", "21:33", "21:36", "21:41", "21:44", "21:47", "21:55", "22:00", "22:04", "22:12"] }, { number: "6631", times: ["22:00", "22:05", "22:09", "22:13", "22:16", "22:21", "22:24", "22:27", "22:35", "22:40", "22:44", "22:52"] }, { number: "6633", times: ["23:00", "23:05", "23:09", "23:13", "23:16", "23:21", "23:24", "23:27", "23:35", "23:40", "23:44", "23:52"] }]
                        }
                    },
                    'sumqayit_to_baki': {
                        workdays: {
                            stations: ["Sumqayıt", "Novxanı", "Görədil", "Pirşağı", "Məmmədli", "Zabrat2", "Zabrat1", "Sabunçu", "Bakıxanov", "Koroğlu", "Keşlə", "Bakı"],
                            trains: [{ number: "6602", times: ["06:20", "06:29", "06:33", "06:38", "06:45", "06:49", "06:52", "06:57", "07:00", "07:04", "07:07", "07:12"] }, { number: "6604", times: ["06:40", "06:49", "06:53", "06:58", "07:05", "07:09", "07:12", "07:17", "07:20", "07:24", "07:27", "07:32"] }, { number: "6606", times: ["06:55", "07:04", "07:08", "07:13", "07:20", "07:24", "07:27", "07:32", "07:35", "07:39", "07:42", "07:47"] }, { number: "6608", times: ["07:10", "07:19", "07:23", "07:28", "07:35", "07:39", "07:42", "07:47", "07:50", "07:54", "07:57", "08:02"] }, { number: "6610", times: ["07:20", "07:29", "07:33", "07:38", "07:45", "07:49", "07:52", "07:57", "08:00", "08:04", "08:07", "08:12"] }, { number: "6672", times: ["07:30", null, null, null, null, null, null, null, null, null, null, "08:20"], note: "Sürət qatarı (dayanacaqsız)" }, { number: "6612", times: ["07:40", "07:49", "07:53", "07:58", "08:05", "08:09", "08:12", "08:17", "08:20", "08:24", "08:27", "08:32"] }, { number: "6614", times: ["07:50", "07:59", "08:03", "08:08", "08:15", "08:19", "08:22", "08:27", "08:30", "08:34", "08:37", "08:42"] }, { number: "6616", times: [null, null, null, null, null, "08:42", "08:45", "08:49", "08:52", "08:57", "09:00", "09:05"], note: "Yalnız Zabrat 2-dən" }, { number: "6618", times: ["08:40", "08:49", "08:53", "08:58", "09:05", "09:09", "09:12", "09:17", "09:20", "09:24", "09:27", "09:32"] }, { number: "6620", times: ["09:00", "09:09", "09:13", "09:18", "09:25", "09:29", "09:32", "09:37", "09:40", "09:44", "09:47", "09:52"] }, { number: "6622", times: ["09:25", "09:34", "09:38", "09:43", "09:50", "09:54", "09:57", "10:02", "10:05", "10:09", "10:12", "10:17"] }, { number: "6624", times: ["09:47", "09:56", "10:00", "10:05", "10:12", "10:16", "10:19", "10:24", "10:27", "10:31", "10:34", "10:39"] }, { number: "6626", times: ["10:00", "10:09", "10:13", "10:18", "10:25", "10:29", "10:32", "10:37", "10:40", "10:44", "10:47", "10:52"] }, { number: "6628", times: ["10:30", "10:39", "10:43", "10:48", "10:55", "10:59", "11:02", "11:07", "11:10", "11:14", "11:17", "11:22"] }, { number: "6630", times: ["11:00", "11:09", "11:13", "11:18", "11:25", "11:29", "11:32", "11:37", "11:40", "11:44", "11:47", "11:52"] }, { number: "6632", times: ["11:30", "11:39", "11:43", "11:48", "11:55", "11:59", "12:02", "12:07", "12:10", "12:14", "12:17", "12:22"] }, { number: "6634", times: ["12:00", "12:09", "12:13", "12:18", "12:25", "12:29", "12:32", "12:37", "12:40", "12:44", "12:47", "12:52"] }, { number: "6636", times: ["15:00", "15:09", "15:13", "15:18", "15:25", "15:29", "15:32", "15:37", "15:40", "15:44", "15:47", "15:52"] }, { number: "6638", times: ["16:00", "16:09", "16:13", "16:18", "16:25", "16:29", "16:32", "16:37", "16:40", "16:44", "16:47", "16:52"] }, { number: "6640", times: ["16:40", "16:49", "16:53", "16:58", "17:05", "17:09", "17:12", "17:17", "17:20", "17:24", "17:27", "17:32"] }, { number: "6642", times: ["17:20", "17:29", "17:33", "17:38", "17:45", "17:49", "17:52", "17:57", "18:00", "18:04", "18:07", "18:12"] }, { number: "6644", times: ["17:45", "17:54", "17:58", "18:03", "18:10", "18:14", "18:17", "18:22", "18:25", "18:29", "18:32", "18:37"] }, { number: "6646", times: ["18:10", "18:19", "18:23", "18:28", "18:35", "18:39", "18:42", "18:47", "18:50", "18:54", "18:57", "19:02"] }, { number: "6648", times: ["18:50", "18:59", "19:03", "19:08", "19:15", "19:19", "19:22", "19:27", "19:30", "19:34", "19:37", "19:42"] }, { number: "6650", times: ["19:15", "19:24", "19:28", "19:33", "19:40", "19:44", "19:47", "19:52", "19:55", "19:59", "20:02", "20:07"] }, { number: "6652", times: ["19:35", "19:44", "19:48", "19:53", "20:00", "20:04", "20:07", "20:12", "20:15", "20:19", "20:22", "20:27"] }, { number: "6654", times: ["19:50", "19:59", "20:03", "20:08", "20:15", "20:19", "20:22", "20:27", "20:30", "20:34", "20:37", "20:42"] }, { number: "6656", times: ["20:12", "20:21", "20:25", "20:30", "20:37", "20:41", "20:44", "20:49", "20:52", "20:56", "20:59", "21:04"] }, { number: "6658", times: ["20:40", "20:49", "20:53", "20:58", "21:03", "21:08", "21:12", "21:17", "21:20", "21:24", "21:27", "21:32"] }, { number: "6660", times: ["21:00", "21:09", "21:13", "21:18", "21:25", "21:29", "21:32", "21:37", "21:40", "21:44", "21:47", "21:52"] }, { number: "6662", times: ["21:25", "21:34", "21:38", "21:43", "21:50", "21:54", "21:57", "22:02", "22:05", "22:09", "22:12", "22:17"] }, { number: "6664", times: ["22:00", "22:09", "22:13", "22:18", "22:25", "22:29", "22:32", "22:37", "22:40", "22:44", "22:47", "22:52"] }]
                        },
                        saturday_holiday: {
                            stations: ["Sumqayıt", "Novxanı", "Görədil", "Pirşağı", "Məmmədli", "Zabrat2", "Zabrat1", "Sabunçu", "Bakıxanov", "Koroğlu", "Keşlə", "Bakı"],
                            trains: [{ number: "6602", times: ["06:40", "06:49", "06:53", "06:58", "07:05", "07:09", "07:12", "07:17", "07:20", "07:25", "07:27", "07:32"] }, { number: "6604", times: ["07:10", "07:19", "07:23", "07:28", "07:35", "07:39", "07:42", "07:47", "07:50", "07:54", "07:57", "08:02"] }, { number: "6606", times: ["07:45", "07:54", "07:58", "08:03", "08:10", "08:14", "08:17", "08:22", "08:25", "08:29", "08:32", "08:37"] }, { number: "6608", times: ["08:05", "08:14", "08:18", "08:23", "08:30", "08:34", "08:37", "08:42", "08:45", "08:49", "08:52", "08:57"] }, { number: "6610", times: ["09:20", "09:29", "09:33", "09:38", "09:45", "09:49", "09:52", "09:57", "10:00", "10:04", "10:07", "10:12"] }, { number: "6612", times: ["10:00", "10:09", "10:13", "10:18", "10:25", "10:29", "10:32", "10:37", "10:40", "10:44", "10:47", "10:52"] }, { number: "6614", times: ["10:40", "10:49", "10:53", "10:58", "11:05", "11:09", "11:12", "11:17", "11:20", "11:24", "11:27", "11:32"] }, { number: "6620", times: ["16:40", "16:49", "16:53", "16:58", "17:05", "17:09", "17:12", "17:17", "17:20", "17:24", "17:27", "17:32"] }, { number: "6622", times: ["17:45", "17:54", "17:58", "18:03", "18:10", "18:14", "18:17", "18:22", "18:25", "18:29", "18:32", "18:37"] }, { number: "6624", times: ["18:22", "18:31", "18:35", "18:40", "18:47", "18:51", "18:54", "18:59", "19:02", "19:06", "19:09", "19:14"] }, { number: "6626", times: ["19:15", "19:24", "19:28", "19:33", "19:40", "19:44", "19:47", "19:52", "19:55", "19:59", "20:02", "20:07"] }, { number: "6628", times: ["19:55", "20:04", "20:08", "20:13", "20:20", "20:24", "20:27", "20:32", "20:35", "20:39", "20:42", "20:47"] }, { number: "6630", times: ["20:35", "20:44", "20:48", "20:53", "21:00", "21:04", "21:07", "21:12", "21:15", "21:19", "21:22", "21:27"] }, { number: "6632", times: ["21:15", "21:24", "21:28", "21:33", "21:40", "21:44", "21:47", "21:52", "21:55", "21:59", "22:02", "22:07"] }, { number: "6634", times: ["22:00", "22:09", "22:13", "22:18", "22:25", "22:29", "22:32", "22:37", "22:40", "22:44", "22:47", "22:52"] }]
                        },
                        sunday: {
                            stations: ["Sumqayıt", "Novxanı", "Görədil", "Pirşağı", "Məmmədli", "Zabrat2", "Zabrat1", "Sabunçu", "Bakıxanov", "Koroğlu", "Keşlə", "Bakı"],
                            trains: [{ number: "6602", times: ["06:40", "06:49", "06:53", "06:58", "07:05", "07:09", "07:12", "07:17", "07:20", "07:25", "07:27", "07:32"] }, { number: "6604", times: ["07:10", "07:19", "07:23", "07:28", "07:35", "07:39", "07:42", "07:47", "07:50", "07:54", "07:57", "08:02"] }, { number: "6606", times: ["07:45", "07:54", "07:58", "08:03", "08:10", "08:14", "08:17", "08:22", "08:25", "08:29", "08:32", "08:37"] }, { number: "6608", times: ["08:05", "08:14", "08:18", "08:23", "08:30", "08:34", "08:37", "08:42", "08:45", "08:49", "08:52", "08:57"] }, { number: "6610", times: ["09:20", "09:29", "09:33", "09:38", "09:45", "09:49", "09:52", "09:57", "10:00", "10:04", "10:07", "10:12"] }, { number: "6612", times: ["10:00", "10:09", "10:13", "10:18", "10:25", "10:29", "10:32", "10:37", "10:40", "10:44", "10:47", "10:52"] }, { number: "6614", times: ["10:40", "10:49", "10:53", "10:58", "11:05", "11:09", "11:12", "11:17", "11:20", "11:24", "11:27", "11:32"] }, { number: "6620", times: ["16:40", "16:49", "16:53", "16:58", "17:05", "17:09", "17:12", "17:17", "17:20", "17:24", "17:27", "17:32"] }, { number: "6622", times: ["17:45", "17:54", "17:58", "18:03", "18:10", "18:14", "18:17", "18:22", "18:25", "18:29", "18:32", "18:37"] }, { number: "6624", times: ["18:22", "18:31", "18:35", "18:40", "18:47", "18:51", "18:54", "18:59", "19:02", "19:06", "19:09", "19:14"] }, { number: "6626", times: ["19:15", "19:24", "19:28", "19:33", "19:40", "19:44", "19:47", "19:52", "19:55", "19:59", "20:02", "20:07"] }, { number: "6628", times: ["19:55", "20:04", "20:08", "20:13", "20:20", "20:24", "20:27", "20:32", "20:35", "20:39", "20:42", "20:47"] }, { number: "6630", times: ["20:35", "20:44", "20:48", "20:53", "21:00", "21:04", "21:07", "21:12", "21:15", "21:19", "21:22", "21:27"] }, { number: "6632", times: ["21:15", "21:24", "21:28", "21:33", "21:40", "21:44", "21:47", "21:52", "21:55", "21:59", "22:02", "22:07"] }, { number: "6634", times: ["22:00", "22:09", "22:13", "22:18", "22:25", "22:29", "22:32", "22:37", "22:40", "22:44", "22:47", "22:52"] }]
                        }
                    }
                }
            },
            'baki_xirdalan_sumqayit': {
                name: "Bakı-Xırdalan-Sumqayıt",
                fareInfoKey: 'xirdalan',
                directions: {
                    'baki_to_sumqayit': {
                        workdays: {
                            stations: ["Bakı", "Biləcəri", "Xırdalan", "Sumqayıt"],
                            trains: [{ number: "6001", times: ["06:20", "06:39", "06:46", null], note: "Son stansiya: Xırdalan" }, { number: "6003", times: ["07:00", "07:19", "07:26", null], note: "Son stansiya: Xırdalan" }, { number: "6005", times: ["07:20", "07:39", "07:46", null], note: "Son stansiya: Xırdalan" }, { number: "6007", times: ["07:37", "07:56", "08:03", null], note: "Son stansiya: Xırdalan" }, { number: "6011", times: ["08:10", "08:29", "08:36", null], note: "Son stansiya: Xırdalan" }, { number: "6013", times: ["08:43", "09:02", "09:09", null], note: "Son stansiya: Xırdalan" }, { number: "6017", times: ["09:30", "09:49", "09:56", null], note: "Son stansiya: Xırdalan" }, { number: "6019", times: ["16:30", "16:49", "16:56", null], note: "Son stansiya: Xırdalan" }, { number: "6021", times: ["17:00", "17:19", "17:26", null], note: "Son stansiya: Xırdalan" }, { number: "6023", times: ["17:17", "17:36", "17:43", null], note: "Son stansiya: Xırdalan" }, { number: "6025", times: ["17:45", "18:04", "18:11", null], note: "Son stansiya: Xırdalan" }, { number: "6027", times: ["18:10", "18:29", "18:36", null], note: "Son stansiya: Xırdalan" }, { number: "6029", times: ["18:25", "18:44", "18:51", null], note: "Son stansiya: Xırdalan" }, { number: "6031", times: ["18:38", "18:57", "19:04", null], note: "Son stansiya: Xırdalan" }, { number: "6033", times: ["18:55", "19:14", "19:21", null], note: "Son stansiya: Xırdalan" }, { number: "6035", times: ["19:30", "19:49", "19:56", null], note: "Son stansiya: Xırdalan" }, { number: "6037", times: ["19:50", "20:09", "20:16", null], note: "Son stansiya: Xırdalan" }, { number: "6039", times: ["20:15", "20:34", "20:41", null], note: "Son stansiya: Xırdalan" }]
                        },
                        saturday_holiday: {
                            stations: ["Bakı", "Biləcəri", "Xırdalan", "Sumqayıt"],
                            trains: [{ number: "6001", times: ["07:00", "07:19", "07:26", null], note: "Son stansiya: Xırdalan" }, { number: "6003", times: ["07:40", "07:59", "08:06", null], note: "Son stansiya: Xırdalan" }, { number: "6005", times: ["08:10", "08:29", "08:36", null], note: "Son stansiya: Xırdalan" }, { number: "6007", times: ["08:55", "09:14", "09:21", null], note: "Son stansiya: Xırdalan" }, { number: "6009", times: ["09:25", "09:44", "09:51", null], note: "Son stansiya: Xırdalan" }, { number: "6011", times: ["17:10", "17:29", "17:36", null], note: "Son stansiya: Xırdalan" }, { number: "6013", times: ["17:45", "18:04", "18:11", null], note: "Son stansiya: Xırdalan" }, { number: "6015", times: ["18:20", "18:39", "18:46", null], note: "Son stansiya: Xırdalan" }, { number: "6017", times: ["18:55", "19:14", "19:21", null], note: "Son stansiya: Xırdalan" }, { number: "6019", times: ["19:40", "19:59", "20:06", null], note: "Son stansiya: Xırdalan" }, { number: "6021", times: ["20:20", "20:39", "20:46", null], note: "Son stansiya: Xırdalan" }]
                        },
                        sunday: {
                            stations: ["Bakı", "Biləcəri", "Xırdalan", "Sumqayıt"],
                            trains: [{ number: "6001", times: ["07:00", "07:19", "07:26", null], note: "Son stansiya: Xırdalan" }, { number: "6003", times: ["07:40", "07:59", "08:06", null], note: "Son stansiya: Xırdalan" }, { number: "6005", times: ["08:10", "08:29", "08:36", null], note: "Son stansiya: Xırdalan" }, { number: "6007", times: ["08:55", "09:14", "09:21", null], note: "Son stansiya: Xırdalan" }, { number: "6009", times: ["09:25", "09:44", "09:51", null], note: "Son stansiya: Xırdalan" }, { number: "6011", times: ["17:10", "17:29", "17:36", null], note: "Son stansiya: Xırdalan" }, { number: "6013", times: ["17:45", "18:04", "18:11", null], note: "Son stansiya: Xırdalan" }, { number: "6015", times: ["18:20", "18:39", "18:46", null], note: "Son stansiya: Xırdalan" }, { number: "6019", times: ["19:40", "19:59", "20:06", null], note: "Son stansiya: Xırdalan" }, { number: "6021", times: ["20:20", "20:39", "20:46", null], note: "Son stansiya: Xırdalan" }]
                        }
                    },
                    'sumqayit_to_baki': {
                        workdays: {
                            stations: ["Sumqayıt", "Xırdalan", "Biləcəri", "Bakı"],
                            trains: [{ number: "6002", times: [null, "07:01", "07:09", "07:27"], note: "Yalnız Xırdalandan" }, { number: "6004", times: [null, "07:35", "07:43", "08:01"], note: "Yalnız Xırdalandan" }, { number: "6006", times: [null, "08:00", "08:08", "08:26"], note: "Yalnız Xırdalandan" }, { number: "6008", times: [null, "08:13", "08:21", "08:39"], note: "Yalnız Xırdalandan" }, { number: "6060", times: [null, "08:22", "08:32", "08:51"], note: "Yalnız Xırdalandan" }, { number: "6012", times: [null, "08:43", "08:51", "09:09"], note: "Yalnız Xırdalandan" }, { number: "6014", times: [null, "09:20", "09:28", "09:46"], note: "Yalnız Xırdalandan" }, { number: "6018", times: [null, "10:05", "10:13", "10:31"], note: "Yalnız Xırdalandan" }, { number: "6020", times: [null, "17:05", "17:13", "17:31"], note: "Yalnız Xırdalandan" }, { number: "6022", times: [null, "17:33", "17:41", "17:59"], note: "Yalnız Xırdalandan" }, { number: "6024", times: [null, "17:51", "17:59", "18:17"], note: "Yalnız Xırdalandan" }, { number: "6026", times: [null, "18:20", "18:28", "18:46"], note: "Yalnız Xırdalandan" }, { number: "6028", times: [null, "18:43", "18:51", "19:09"], note: "Yalnız Xırdalandan" }, { number: "6030", times: [null, "18:59", "19:07", "19:25"], note: "Yalnız Xırdalandan" }, { number: "6032", times: [null, "19:11", "19:19", "19:37"], note: "Yalnız Xırdalandan" }, { number: "6034", times: [null, "19:35", "19:43", "20:01"], note: "Yalnız Xırdalandan" }, { number: "6036", times: [null, "20:05", "20:13", "20:31"], note: "Yalnız Xırdalandan" }, { number: "6038", times: [null, "20:25", "20:33", "20:51"], note: "Yalnız Xırdalandan" }, { number: "6040", times: [null, "21:00", "21:08", "21:26"], note: "Yalnız Xırdalandan" }]
                        },
                        saturday_holiday: {
                            stations: ["Sumqayıt", "Xırdalan", "Biləcəri", "Bakı"],
                            trains: [{ number: "6002", times: [null, "07:35", "07:43", "08:01"], note: "Yalnız Xırdalandan" }, { number: "6004", times: [null, "08:14", "08:22", "08:40"], note: "Yalnız Xırdalandan" }, { number: "6006", times: [null, "08:45", "08:53", "09:11"], note: "Yalnız Xırdalandan" }, { number: "6008", times: [null, "09:30", "09:38", "09:56"], note: "Yalnız Xırdalandan" }, { number: "6010", times: [null, "10:00", "10:08", "10:26"], note: "Yalnız Xırdalandan" }, { number: "6012", times: [null, "17:45", "17:53", "18:11"], note: "Yalnız Xırdalandan" }, { number: "6014", times: [null, "18:18", "18:26", "18:44"], note: "Yalnız Xırdalandan" }, { number: "6016", times: [null, "18:55", "19:03", "19:21"], note: "Yalnız Xırdalandan" }, { number: "6018", times: [null, "19:30", "19:38", "19:56"], note: "Yalnız Xırdalandan" }, { number: "6020", times: [null, "20:13", "20:21", "20:39"], note: "Yalnız Xırdalandan" }, { number: "6022", times: [null, "20:55", "21:03", "21:21"], note: "Yalnız Xırdalandan" }]
                        },
                        sunday: {
                            stations: ["Sumqayıt", "Xırdalan", "Biləcəri", "Bakı"],
                            trains: [{ number: "6002", times: [null, "07:35", "07:43", "08:01"], note: "Yalnız Xırdalandan" }, { number: "6004", times: [null, "08:14", "08:22", "08:40"], note: "Yalnız Xırdalandan" }, { number: "6006", times: [null, "08:45", "08:53", "09:11"], note: "Yalnız Xırdalandan" }, { number: "6008", times: [null, "09:30", "09:38", "09:56"], note: "Yalnız Xırdalandan" }, { number: "6010", times: [null, "10:00", "10:08", "10:26"], note: "Yalnız Xırdalandan" }, { number: "6012", times: [null, "17:45", "17:53", "18:11"], note: "Yalnız Xırdalandan" }, { number: "6014", times: [null, "18:18", "18:26", "18:44"], note: "Yalnız Xırdalandan" }, { number: "6016", times: [null, "18:55", "19:03", "19:21"], note: "Yalnız Xırdalandan" }, { number: "6018", times: [null, "19:30", "19:38", "19:56"], note: "Yalnız Xırdalandan" }, { number: "6020", times: [null, "20:13", "20:21", "20:39"], note: "Yalnız Xırdalandan" }, { number: "6022", times: [null, "20:55", "21:03", "21:21"], note: "Yalnız Xırdalandan" }]
                        }
                    }
                }
            }
        };

        const fareData = {
            pirshagi: {
                "Bakı|Bakıxanov": { distance: 11, fare: 0.6 }, "Bakı|Görədil": { distance: 32, fare: 1.1 }, "Bakı|Keşlə": { distance: 4, fare: 0.5 }, "Bakı|Koroğlu": { distance: 8, fare: 0.5 }, "Bakı|Məmmədli": { distance: 21, fare: 0.9 }, "Bakı|Novxanı": { distance: 38, fare: 1.1 }, "Bakı|Pirşağı": { distance: 29, fare: 1.0 }, "Bakı|Sabunçu": { distance: 13, fare: 0.6 }, "Bakı|Sumqayıt": { distance: 42, fare: 1.2 }, "Bakı|Zabrat1": { distance: 16, fare: 0.8 }, "Bakı|Zabrat2": { distance: 18, fare: 0.8 }, "Bakıxanov|Görədil": { distance: 21, fare: 0.8 }, "Bakıxanov|Keşlə": { distance: 7, fare: 0.5 }, "Bakıxanov|Koroğlu": { distance: 3, fare: 0.4 }, "Bakıxanov|Məmmədli": { distance: 10, fare: 0.5 }, "Bakıxanov|Novxanı": { distance: 27, fare: 0.9 }, "Bakıxanov|Pirşağı": { distance: 18, fare: 0.6 }, "Bakıxanov|Sabunçu": { distance: 2, fare: 0.4 }, "Bakıxanov|Sumqayıt": { distance: 36, fare: 0.9 }, "Bakıxanov|Zabrat1": { distance: 5, fare: 0.5 }, "Bakıxanov|Zabrat2": { distance: 7, fare: 0.5 }, "Görədil|Keşlə": { distance: 28, fare: 0.9 }, "Görədil|Koroğlu": { distance: 24, fare: 0.9 }, "Görədil|Məmmədli": { distance: 11, fare: 0.5 }, "Görədil|Novxanı": { distance: 6, fare: 0.5 }, "Görədil|Pirşağı": { distance: 3, fare: 0.4 }, "Görədil|Sabunçu": { distance: 19, fare: 0.6 }, "Görədil|Sumqayıt": { distance: 15, fare: 0.5 }, "Görədil|Zabrat1": { distance: 16, fare: 0.5 }, "Görədil|Zabrat2": { distance: 14, fare: 0.5 }, "Keşlə|Koroğlu": { distance: 3, fare: 0.4 }, "Keşlə|Məmmədli": { distance: 17, fare: 0.8 }, "Keşlə|Novxanı": { distance: 34, fare: 1.0 }, "Keşlə|Pirşağı": { distance: 25, fare: 0.9 }, "Keşlə|Sabunçu": { distance: 9, fare: 0.5 }, "Keşlə|Sumqayıt": { distance: 43, fare: 1.1 }, "Keşlə|Zabrat1": { distance: 12, fare: 0.6 }, "Keşlə|Zabrat2": { distance: 14, fare: 0.6 }, "Koroğlu|Məmmədli": { distance: 13, fare: 0.6 }, "Koroğlu|Novxanı": { distance: 30, fare: 1.0 }, "Koroğlu|Pirşağı": { distance: 21, fare: 0.8 }, "Koroğlu|Sabunçu": { distance: 5, fare: 0.5 }, "Koroğlu|Sumqayıt": { distance: 39, fare: 1.0 }, "Koroğlu|Zabrat1": { distance: 8, fare: 0.5 }, "Koroğlu|Zabrat2": { distance: 10, fare: 0.5 }, "Məmmədli|Novxanı": { distance: 17, fare: 0.5 }, "Məmmədli|Pirşağı": { distance: 8, fare: 0.5 }, "Məmmədli|Sabunçu": { distance: 8, fare: 0.5 }, "Məmmədli|Sumqayıt": { distance: 26, fare: 0.5 }, "Məmmədli|Zabrat1": { distance: 5, fare: 0.5 }, "Məmmədli|Zabrat2": { distance: 3, fare: 0.4 }, "Novxanı|Pirşağı": { distance: 9, fare: 0.5 }, "Novxanı|Sabunçu": { distance: 25, fare: 0.7 }, "Novxanı|Sumqayıt": { distance: 9, fare: 0.5 }, "Novxanı|Zabrat1": { distance: 22, fare: 0.6 }, "Novxanı|Zabrat2": { distance: 20, fare: 0.5 }, "Pirşağı|Sabunçu": { distance: 16, fare: 0.5 }, "Pirşağı|Sumqayıt": { distance: 18, fare: 0.5 }, "Pirşağı|Zabrat1": { distance: 13, fare: 0.5 }, "Pirşağı|Zabrat2": { distance: 11, fare: 0.5 }, "Sabunçu|Sumqayıt": { distance: 34, fare: 0.8 }, "Sabunçu|Zabrat1": { distance: 3, fare: 0.4 }, "Sabunçu|Zabrat2": { distance: 5, fare: 0.5 }, "Sumqayıt|Zabrat1": { distance: 31, fare: 0.6 }, "Sumqayıt|Zabrat2": { distance: 29, fare: 0.5 }, "Zabrat1|Zabrat2": { distance: 2, fare: 0.4 }
            },
            xirdalan: {
                "Bakı|Biləcəri": { distance: 14, fare: 0.6 }, "Bakı|Xırdalan": { distance: 18, fare: 0.8 }, "Bakı|Sumqayıt": { distance: 49, fare: 1.2 }, "Biləcəri|Xırdalan": { distance: 6, fare: 0.5 }, "Biləcəri|Sumqayıt": { distance: 28, fare: 1.0 }, "Sumqayıt|Xırdalan": { distance: 22, fare: 0.8 }
            }
        };

        // --- UI FUNCTIONS ---

        const routeSelect = document.getElementById('routeSelect');
        const departureSelect = document.getElementById('departure');
        const arrivalSelect = document.getElementById('arrival');
        const dayTypeSelect = document.getElementById('dayType');
        const swapButton = document.getElementById('swapButton');
        const resultsContainer = document.getElementById('results-container');
        const messageArea = document.getElementById('message-area');

        function init() {
            // Dropdown-u təmizlə ki, dublikat yaranmasın
            routeSelect.innerHTML = '<option value="" disabled selected hidden>Marşrut seçin...</option>';

            for (const key in routesData) {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = routesData[key].name;
                routeSelect.appendChild(option);
            }

            routeSelect.addEventListener('change', handleRouteChange);
            departureSelect.addEventListener('change', checkSwapState);
            arrivalSelect.addEventListener('change', checkSwapState);

            routeSelect.value = 'baki_pirshagi_sumqayit';
            handleRouteChange();
        }

        function handleRouteChange() {
            const routeKey = routeSelect.value;
            if (!routeKey) return;

            const data = routesData[routeKey];
            updateDayOptions(data);

            let stations = [];
            try {
                stations = data.directions.baki_to_sumqayit.workdays.stations;
            } catch (e) { }

            populateSelect(departureSelect, stations, "Haradan...");
            populateSelect(arrivalSelect, stations, "Haraya...");

            departureSelect.disabled = false;
            arrivalSelect.disabled = false;
            checkSwapState();
        }

        function updateDayOptions(routeData) {
            const todayCat = getDayCategory();
            dayTypeSelect.innerHTML = '';

            const labels = { 'workdays': 'İş günləri (I-V)', 'saturday_holiday': 'Şənbə / Qeyri-iş', 'sunday': 'Bazar günü' };

            ['workdays', 'saturday_holiday', 'sunday'].forEach(key => {
                const option = document.createElement('option');
                option.value = key;
                option.text = labels[key];
                if (key === todayCat) option.selected = true;
                dayTypeSelect.appendChild(option);
            });
        }

        function populateSelect(el, items, placeholder) {
            el.innerHTML = `<option value="" disabled selected hidden>${placeholder}</option>`;
            if (items) {
                items.forEach(item => {
                    const opt = document.createElement('option');
                    opt.value = item;
                    opt.textContent = item;
                    el.appendChild(opt);
                });
            }
        }

        function swapStations() {
            const temp = departureSelect.value;
            departureSelect.value = arrivalSelect.value;
            arrivalSelect.value = temp;
            checkSwapState();
        }

        function checkSwapState() {
            swapButton.disabled = !(departureSelect.value && arrivalSelect.value && departureSelect.value !== arrivalSelect.value);
            if (!swapButton.disabled) {
                swapButton.classList.add('text-blue-600', 'bg-white');
                swapButton.classList.remove('text-gray-400');
            } else {
                swapButton.classList.remove('text-blue-600');
                swapButton.classList.add('text-gray-400');
            }
        }

        function showMessage(msg, type = 'error') {
            const colors = type === 'error' ? 'bg-red-100 text-red-700 border-red-200' : 'bg-blue-100 text-blue-700 border-blue-200';
            const icon = type === 'error' ? '<i class="fa-solid fa-circle-exclamation mr-2"></i>' : '<i class="fa-solid fa-circle-info mr-2"></i>';
            messageArea.innerHTML = `<div class="p-4 rounded-xl border ${colors} flex items-center font-medium shadow-sm animate-fade-in">${icon} ${msg}</div>`;
            messageArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function timeToMin(t) {
            if (!t) return NaN;
            const [h, m] = t.split(':').map(Number);
            return h * 60 + m;
        }

        function searchTrains(e) {
            e.preventDefault();
            messageArea.innerHTML = '';
            resultsContainer.innerHTML = '';

            const routeKey = routeSelect.value;
            const dep = departureSelect.value;
            const arr = arrivalSelect.value;
            const day = dayTypeSelect.value;

            if (!dep || !arr) return showMessage("Zəhmət olmasa stansiyaları seçin.");
            if (dep === arr) return showMessage("Başlanğıc və son stansiya fərqli olmalıdır.");

            const routeObj = routesData[routeKey];
            let schedule = null;

            for (const dirKey in routeObj.directions) {
                const dayData = routeObj.directions[dirKey][day];
                if (dayData && dayData.stations) {
                    const idxDep = dayData.stations.indexOf(dep);
                    const idxArr = dayData.stations.indexOf(arr);
                    if (idxDep !== -1 && idxArr !== -1 && idxDep < idxArr) {
                        schedule = dayData;
                        break;
                    }
                }
            }

            if (!schedule) return showMessage("Bu istiqamətdə reys tapılmadı. Stansiyaları dəyişdirib yoxlayın.");

            // PRICE CALCULATION
            const fareInfoKey = routeObj.fareInfoKey;
            const sortedKey = [dep, arr].sort((a, b) => a.localeCompare(b, 'az')).join('|');
            const fareInfo = fareData[fareInfoKey] ? fareData[fareInfoKey][sortedKey] : null;

            const now = new Date();
            const currentMin = now.getHours() * 60 + now.getMinutes();
            const isToday = day === getDayCategory();

            const depIdx = schedule.stations.indexOf(dep);
            const arrIdx = schedule.stations.indexOf(arr);

            let results = schedule.trains.map(train => {
                const tDep = train.times[depIdx];
                const tArr = train.times[arrIdx];
                if (!tDep || !tArr) return null;

                const minDep = timeToMin(tDep);
                const minArr = timeToMin(tArr);
                let dur = minArr - minDep;
                if (dur < 0) dur += 1440;

                let stops = [];
                for (let i = depIdx + 1; i < arrIdx; i++) {
                    if (train.times[i]) stops.push({ s: schedule.stations[i], t: train.times[i] });
                }

                let countdownText = '';
                if (isToday && minDep > currentMin) {
                    const diff = minDep - currentMin;
                    const h = Math.floor(diff / 60);
                    const m = diff % 60;
                    countdownText = `${h > 0 ? h + ' sa ' : ''}${m} dəq`;
                }

                return {
                    number: train.number,
                    depTime: tDep,
                    arrTime: tArr,
                    duration: dur,
                    minDep: minDep,
                    stops: stops,
                    passed: isToday && minDep < currentMin,
                    countdown: countdownText,
                    note: train.note
                };
            }).filter(t => t).sort((a, b) => a.minDep - b.minDep);

            if (results.length === 0) return showMessage("Uyğun qatar tapılmadı.", "info");

            renderResults(results, dep, arr, isToday, fareInfo);
        }

        function renderResults(trains, from, to, isToday, fareInfo) {
            let html = '';
            let nextTrainFound = false;

            trains.forEach((train, index) => {
                const isNext = isToday && !train.passed && !nextTrainFound;

                // Məntiq: İlk gələcək qatar tapılanda, onun üstünə reklam yerləşdir
                if (isNext) {
                    nextTrainFound = true;
                    // Mobil Tətbiq Banneri
                    html += `
                    <div class="mb-6 p-5 rounded-2xl bg-gradient-to-br from-indigo-600 to-violet-600 text-white shadow-xl relative overflow-hidden group animate-fade-in border border-white/20">
                        <!-- Decorative bg elements -->
                        <div class="absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 rounded-full bg-white/10 blur-2xl"></div>
                        <div class="absolute bottom-0 left-0 -ml-8 -mb-8 w-24 h-24 rounded-full bg-white/10 blur-xl"></div>
                        
                        <div class="relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4">
                            <div class="text-center sm:text-left">
                                <h3 class="font-bold text-xl mb-1 flex items-center justify-center sm:justify-start">
                                    <span class="bg-white/20 p-1.5 rounded-lg mr-2 backdrop-blur-sm">
                                        <i class="fa-solid fa-mobile-screen-button"></i>
                                    </span>
                                    Yeni Mobil Tətbiqimiz Çıxdı!
                                </h3>
                                <p class="text-indigo-100 text-sm font-medium leading-relaxed max-w-md">
                                    Siz də ilk istifadəçilərdən olun! Platformamızı inkişaf etdirmək üçün
                                </p>
                            </div>
                            <a href="https://docs.google.com/forms/d/1nPVy2aU5aJH24w2Ptosez9hfc8LFUMej9Cf5xvwan7E/edit" 
                               target="_blank" 
                               class="group/btn relative bg-white text-indigo-600 font-bold py-3 px-6 rounded-xl shadow-lg hover:shadow-xl hover:bg-gray-50 transition-all duration-300 active:scale-95 whitespace-nowrap flex items-center">
                                DAXİL OL 
                                <i class="fa-solid fa-arrow-right ml-2 group-hover/btn:translate-x-1 transition-transform"></i>
                            </a>
                        </div>
                    </div>
                    `;
                }

                const opacityClass = train.passed ? 'opacity-60 grayscale' : 'opacity-100';
                const highlightClass = isNext ? 'ring-2 ring-blue-500 ring-offset-2' : '';

                let badge = '';
                if (isNext) {
                    badge = `<span class="absolute top-0 right-0 bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg rounded-tr-lg animate-pulse">NÖVBƏTİ QATAR</span>`;
                } else if (train.passed) {
                    badge = `<span class="absolute top-0 right-0 bg-gray-300 text-gray-600 text-[10px] font-bold px-2 py-1 rounded-bl-lg">GETDİ</span>`;
                }

                // Price HTML
                let priceHtml = '<div class="text-[10px] text-gray-400 font-bold">BİLET: STANDARD</div>';
                if (fareInfo) {
                    priceHtml = `
                        <div class="flex items-center gap-2">
                            <span class="bg-green-100 text-green-700 px-2 py-0.5 rounded flex items-center font-bold text-xs">
                                <i class="fa-solid fa-manat-sign text-[10px] mr-1"></i> ${fareInfo.fare.toFixed(2)}
                            </span>
                            <span class="text-[10px] text-gray-400 font-semibold tracking-wide">(${fareInfo.distance} km)</span>
                        </div>
                    `;
                }

                // Ara duraklar
                let stopsHtml = '';
                if (train.stops.length > 0) {
                    stopsHtml = `
                        <div class="mt-4 pt-3 border-t border-dashed border-gray-200 hidden group-focus-within:block transition-all">
                            <p class="text-xs text-gray-400 mb-2 font-semibold uppercase">Ara Stansiyalar</p>
                            <div class="pl-2 border-l-2 border-gray-200 space-y-3 relative">
                                ${train.stops.map(s => `
                                    <div class="relative pl-4 text-xs flex justify-between items-center">
                                        <div class="absolute -left-[5px] top-1.5 w-2 h-2 rounded-full bg-gray-300 border border-white"></div>
                                        <span class="text-gray-600">${s.s}</span>
                                        <span class="font-mono font-medium text-gray-800">${s.t}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }

                // Countdown Badge
                let timerHtml = '';
                if (train.countdown) {
                    const colorClass = isNext ? 'bg-orange-100 text-orange-700 border-orange-200' : 'bg-blue-50 text-blue-600 border-blue-100';
                    timerHtml = `
                        <div class="mt-3 flex justify-center">
                            <span class="${colorClass} border px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1.5">
                                <i class="fa-regular fa-clock ${isNext ? 'animate-spin-slow' : ''}"></i>
                                ${train.countdown} qalıb
                            </span>
                        </div>
                    `;
                }

                html += `
                <div class="ticket-card shadow-sm ${opacityClass} ${highlightClass} group animate-fade-in" style="animation-delay: ${index * 50}ms" tabindex="0">
                    ${badge}
                    <div class="p-5">
                        <div class="flex justify-between items-center mb-3">
                            <div class="flex items-center space-x-2">
                                <div class="bg-blue-100 text-blue-600 p-1.5 rounded-lg">
                                    <i class="fa-solid fa-train"></i>
                                </div>
                                <span class="text-sm font-bold text-gray-700">№ ${train.number}</span>
                            </div>
                            <span class="text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded flex items-center">
                                <i class="fa-solid fa-hourglass-end mr-1"></i> ${Math.floor(train.duration / 60)}s ${train.duration % 60}d
                            </span>
                        </div>

                        <div class="flex items-center justify-between relative">
                            <div class="text-left">
                                <div class="text-2xl font-extrabold text-gray-800 leading-none">${train.depTime}</div>
                                <div class="text-[10px] uppercase font-bold text-gray-400 mt-1 notranslate truncate max-w-[80px]">${from}</div>
                            </div>

                            <div class="flex-1 px-4 flex flex-col items-center">
                                <div class="w-full h-0.5 bg-gray-200 relative flex items-center justify-between">
                                    <div class="w-2 h-2 rounded-full bg-gray-300"></div>
                                    <div class="absolute left-1/2 -translate-x-1/2 -top-2 bg-white px-1">
                                        <i class="fa-solid fa-angle-right text-gray-300 text-xs"></i>
                                    </div>
                                    <div class="w-2 h-2 rounded-full bg-gray-300"></div>
                                </div>
                            </div>

                            <div class="text-right">
                                <div class="text-2xl font-extrabold text-gray-800 leading-none">${train.arrTime}</div>
                                <div class="text-[10px] uppercase font-bold text-gray-400 mt-1 notranslate truncate max-w-[80px]">${to}</div>
                            </div>
                        </div>

                        ${timerHtml}

                        ${train.stops.length ? `
                        <div class="mt-3 text-center group-focus-within:hidden">
                             <span class="text-[10px] text-blue-400 font-semibold cursor-pointer hover:text-blue-600 transition-colors">
                                <i class="fa-solid fa-list-ul mr-1"></i> Detallar
                             </span>
                        </div>` : ''}
                        
                        ${stopsHtml}
                    </div>
                    
                    <div class="bg-gray-50 px-5 py-2 border-t border-dashed border-gray-200 flex justify-between items-center">
                        <div class="text-[10px] text-gray-400 font-mono">ADY QSC</div>
                        ${priceHtml}
                    </div>
                </div>
                `;
            });

            resultsContainer.innerHTML = html;

            // HTML yerləşəndən sonra Reklamı dinamik yükləyirik - LƏĞV EDİLDİ
            // loadDynamicAd();

            setTimeout(() => {
                const highlighted = document.querySelector('.ring-blue-500');
                if (highlighted) {
                    highlighted.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 300);
        }




        document.addEventListener('DOMContentLoaded', init);
    </script>
    <!-- Monetag Vignette Ad -->
    <script>(function (s) { s.dataset.zone = '10394826', s.src = 'https://gizokraijaw.net/vignette.min.js' })([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
</body>

</html>